(this["webpackJsonpface-recognition-app"]=this["webpackJsonpface-recognition-app"]||[]).push([[0],{18:function(e,t,n){},20:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var a=n(8),s=n.n(a),i=n(11),r=n.n(i),c=(n(18),n(3)),o=n(0),l=n(1),d=n(6),u=n(5),b=n(2),p=n.n(b),h=(n(20),n(4)),m=function(e){var t=e.leave;return e.isSignedIn?Object(h.jsx)("nav",{className:"w-100",style:{display:"flex",justifyContent:"end"},onClick:function(){return t("signout")},children:Object(h.jsx)("p",{className:"f3 link dim black underline mr5 pointer",children:"Sign out"})}):Object(h.jsxs)("nav",{className:"w-100",style:{display:"flex",justifyContent:"end"},children:[Object(h.jsx)("p",{onClick:function(){return t("signin")},className:"f3 link dim black underline mr5 pointer",children:"Sign in"}),Object(h.jsx)("p",{onClick:function(){return t("register")},className:"f3 link dim black underline mr5 pointer",children:"Register"})]})},j=n(12),g=n.p+"static/media/Logo.86c1ba9e.png",f=(n(22),function(e){var t=s.a.useRef(null);return Object(h.jsx)("div",{className:"Logo",children:Object(h.jsx)(j.a,{className:"Tilt ma2 br2 shadow-2",tiltMaxngleX:10,tiltMaxngleY:10,children:Object(h.jsx)("img",{src:g,alt:"Logo",ref:t})})})}),v=(n(23),function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.change,n=e.click;e.paste;return Object(h.jsxs)("div",{className:"tc w-100",children:[Object(h.jsx)("p",{className:"f3 center",children:"Input an URL with an image to see if there are faces in it!"}),Object(h.jsx)("div",{className:"center w-100",children:Object(h.jsxs)("div",{className:"w-100 ma2 shadow-5 pattern br3 pa3",children:[Object(h.jsx)("input",{className:"w-75 f4 br2 shadow-2 pa3",type:"text",placeholder:"Your URL goes here",onKeyUp:t,onChange:t}),Object(h.jsx)("button",{onClick:n,className:" shadow grow w-15 ba pa3  dib round2 white",children:"Detect"})]})})]})}}]),n}(a.Component)),x=v,O=function(e){var t=e.name,n=e.entries;return Object(h.jsxs)("div",{className:"tc white",children:[Object(h.jsx)("p",{className:"f3",children:"".concat(t," your current rank is:")}),Object(h.jsx)("h1",{children:"Your entry count is ".concat(n)})]})},w=(n(24),n(25)),y=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).validate=function(e,t,n){return 0===e.length||0===n.length||0===t.length?1:null===w.parseOneAddress(t)?2:n.length<6?3:0},s.normal=function(){s.setState({registered:!1}),s.setState({invalidCase:0})},s.onChange=function(e){"name"===e.target.id?s.setState({name:e.target.value}):"email-address"===e.target.id?s.setState({email:e.target.value}):s.setState({password:e.target.value}),"Enter"===e.key&&(s.Ref.current.focus(),s.Ref.current.click())},s.onSubmit=function(){s.normal();var e=s.state,t=e.name,n=e.email,a=e.password,i=s.validate(t,n,a);0===i?fetch("https://enigmatic-eyrie-77195.herokuapp.com/register",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:s.state.name,email:s.state.email,password:s.state.password})}).then((function(e){return e.json()})).then((function(e){console.log(e),"REGISTER ERROR"!==e?(s.props.loadUser(e),s.props.sign("home")):s.setState({registered:!0})})):s.setState({invalidCase:i})},s.Ref=Object(a.createRef)(),s.state={name:"",email:"",password:"",registered:!1,invalidCase:0},s}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.registered,n=e.invalidCase;return Object(h.jsxs)("div",{children:[Object(h.jsx)("article",{className:"br4 ba shadow-5 b--black-40",children:Object(h.jsx)("main",{className:"pw2 pv4 black-80",children:Object(h.jsxs)("div",{className:"measure tc",id:"wrapper",children:[Object(h.jsxs)("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0",children:[Object(h.jsx)("legend",{className:"f2 fw6 ph0 mh0",children:"Register"}),Object(h.jsxs)("div",{className:"mt3",children:[Object(h.jsx)("label",{className:"db fw6 lh-copy f6",htmlFor:"text",children:"Name"}),Object(h.jsx)("input",{onKeyUp:this.onChange,className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"text",name:"name",id:"name"})]}),Object(h.jsxs)("div",{className:"mt3",children:[Object(h.jsx)("label",{className:"db fw6 lh-copy f6",htmlFor:"email-address",children:"Email"}),Object(h.jsx)("input",{onKeyUp:this.onChange,className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"email",name:"email-address",id:"email-address"})]}),Object(h.jsxs)("div",{className:"mv3",children:[Object(h.jsx)("label",{className:"db fw6 lh-copy f6",htmlFor:"password",children:"Password"}),Object(h.jsx)("input",{onKeyUp:this.onChange,className:"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"password",name:"password",id:"password"})]})]}),Object(h.jsx)("div",{className:"",children:Object(h.jsx)("input",{onClick:this.onSubmit,ref:this.Ref,className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f5 dib",type:"submit",value:"Register"})})]})})}),Object(h.jsxs)("div",{className:"tc",children:[!1===t?Object(h.jsx)(h.Fragment,{}):Object(h.jsx)("h2",{className:"tc",children:"Email registered already"}),this.state.invalidCase>0?Object(h.jsx)("h2",{className:"tc ",children:Object(h.jsx)("p",{children:["Registration fields can't be empty","Please enter a valid email","Password must be longer\n than 6 characters"][n-1]})}):null]})]})}}]),n}(a.Component),N=(n(26),function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).onSignInChange=function(e){"email-address"===e.target.id?s.setState({email:e.target.value}):s.setState({password:e.target.value}),"Enter"===e.key&&(s.Ref.current.focus(),s.Ref.current.click())},s.onSubmitSignIn=function(){fetch("https://enigmatic-eyrie-77195.herokuapp.com/signin",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s.state.email,password:s.state.password})}).then((function(e){return e.json()})).then((function(e){e.id?(s.props.loadUser(e),s.props.sign("home")):s.setState({incorrect:!0})}))},s.Ref=Object(a.createRef)(),s.state={email:"",password:"",incorrect:!1},s}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.sign;return Object(h.jsxs)("div",{children:[Object(h.jsx)("article",{className:"br4 ba shadow-5 b--black-40 ",children:Object(h.jsx)("main",{className:"pv5 black-80",id:"wrapper",children:Object(h.jsxs)("div",{className:"measure tc",children:[Object(h.jsxs)("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0",children:[Object(h.jsx)("legend",{className:"f2 fw6 ph0 mh0",children:"Sign In"}),Object(h.jsxs)("div",{className:"mt3",children:[Object(h.jsx)("label",{className:"db fw6 lh-copy f6",htmlFor:"email-address",children:"Email"}),Object(h.jsx)("input",{onKeyUp:this.onSignInChange,className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"email",name:"email-address",id:"email-address"})]}),Object(h.jsxs)("div",{className:"mv3",children:[Object(h.jsx)("label",{className:"db fw6 lh-copy f6",htmlFor:"password",children:"Password"}),Object(h.jsx)("input",{onKeyUp:this.onSignInChange,className:"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"password",name:"password",id:"password"})]})]}),Object(h.jsx)("div",{className:"",children:Object(h.jsx)("input",{id:"submit",className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f5 dib",type:"submit",value:"Sign in",onClick:this.onSubmitSignIn,ref:this.Ref})}),Object(h.jsx)("div",{className:"lh-copy mt3 pointer",children:Object(h.jsx)("p",{onClick:function(){return e("register")},className:"f5 dim black mt4 db",children:"Register"})})]})})}),!1===this.state.incorrect?Object(h.jsx)(h.Fragment,{}):Object(h.jsx)("h2",{className:"tc",children:"Incorrect Email or Password"})]})}}]),n}(a.Component)),k=(n(27),function(e){var t=e.resp,n=e.boxes,a=Object(h.jsx)(h.Fragment,{});return void 0!==n.length&&0!==n.lenghth&&(a=n.map((function(e,t){return Object(h.jsx)("div",{id:"box",style:{top:e.topR,bottom:e.bottomR,left:e.leftC,right:e.rightC}},t)}))),Object(h.jsx)("div",{className:"center",children:Object(h.jsxs)("div",{style:{position:"absolute"},className:"mt3",children:[Object(h.jsx)("img",{id:"DetectSpace",src:t,alt:""}),a]})})}),S=n(13),C=n.n(S),R={box:{},ImageURL:"",input:"",route:"signin",isSignedIn:!1,user:{email:"",id:"",name:"",entries:0,joined:""}},I=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).loadUser=function(t){e.setState({user:{email:t.email,id:t.id,name:t.name,entries:t.entries,joined:t.joined}})},e.useAPI=Object(c.a)(p.a.mark((function t(){var n,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://enigmatic-eyrie-77195.herokuapp.com/API",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({input:e.state.input})});case 3:return n=t.sent,t.next=6,n.json();case 6:return a=t.sent,t.next=9,a;case 9:return t.abrupt("return",t.sent);case 12:return t.prev=12,t.t0=t.catch(0),t.abrupt("return",void 0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])}))),e.calculateFaceLocation=function(e){var t=document.getElementById("DetectSpace"),n=Number(t.width),a=Number(t.height);return void 0!==e.outputs[0].data.regions?e.outputs[0].data.regions.map((function(e){return{topR:e.region_info.bounding_box.top_row*a,leftC:e.region_info.bounding_box.left_col*n,bottomR:a-e.region_info.bounding_box.bottom_row*a,rightC:n-e.region_info.bounding_box.right_col*n}})):[]},e.displayBox=function(t){e.setState({box:t})},e.onPaste=function(t){e.setState({input:t.target.value})},e.onInputChange=function(t){e.setState({input:t.target.value}),"Enter"===t.key&&e.onSubmit()},e.onSubmit=Object(c.a)(p.a.mark((function t(){var n,a,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({ImageURL:e.state.input}),t.next=3,e.useAPI();case 3:if(void 0===(n=t.sent)){t.next=19;break}return t.prev=5,e.displayBox(e.calculateFaceLocation(n)),t.next=9,fetch("https://enigmatic-eyrie-77195.herokuapp.com/image",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.state.user.id})});case 9:return a=t.sent,t.next=12,a.json();case 12:s=t.sent,e.setState(Object.assign(e.state.user,{entries:s})),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(5),console.log("An error happened: ",t.t0);case 19:case"end":return t.stop()}}),t,null,[[5,16]])}))),e.onRouteChange=function(t){"signout"===t?e.setState(R):"home"===t&&e.setState({isSignedIn:!0}),e.setState({route:t})},e.state=R,e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.box,n=e.ImageURL,a=e.isSignedIn,s="signin"===this.state.route||"signout"===this.state.route?Object(h.jsx)(N,{sign:this.onRouteChange,loadUser:this.loadUser}):Object(h.jsx)(y,{sign:this.onRouteChange,loadUser:this.loadUser}),i=this.state.user,r=i.name,c=i.entries;return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(C.a,{className:"Particles",options:U}),Object(h.jsx)(m,{leave:this.onRouteChange,isSignedIn:a}),"home"===this.state.route?Object(h.jsxs)("div",{children:[Object(h.jsx)(f,{}),Object(h.jsx)(O,{name:r,entries:c}),Object(h.jsx)(x,{change:this.onInputChange,click:this.onSubmit,paste:this.onPaste}),Object(h.jsx)(k,{resp:n,boxes:t})]}):s]})}}]),n}(a.Component),U={fpsLimit:120,interactivity:{events:{onClick:{enable:!1,mode:"push"},onHover:{enable:!0,mode:"repulse"},resize:!0},modes:{bubble:{distance:400,duration:2,opacity:.8,size:40},push:{quantity:2},repulse:{distance:100,duration:.4}}},particles:{color:{value:"#ffffff"},links:{color:"#ffffff",distance:150,enable:!0,opacity:.5,width:1},collisions:{enable:!0},move:{direction:"none",enable:!0,outMode:"bounce",random:!1,speed:2,straight:!1},number:{density:{enable:!0,area:800},value:80},opacity:{value:.5},shape:{type:"triangle"},size:{random:!0,value:2}}},F=I,_=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,34)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),s(e),i(e),r(e)}))};n(30);r.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(F,{})}),document.getElementById("root")),_()}},[[32,1,2]]]);
//# sourceMappingURL=main.32087987.chunk.js.map